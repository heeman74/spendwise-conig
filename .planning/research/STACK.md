# Stack Research: Plaid + AI Financial Planning

**Researched:** 2026-01-30
**Domain:** Personal finance app with bank connectivity, AI categorization, financial planning

## Plaid Integration

**Primary:** `plaid-node` (official Plaid Node.js SDK)
- Plaid Link (frontend) — React component for account connection UI
- Plaid API (backend) — REST API for account data, transactions, investments
- Environments: Sandbox (free dev), Development (100 items), Production (paid per connection)

**Key Plaid Products:**
- **Auth** — Account/routing numbers
- **Transactions** — Transaction history with merchant data and categories
- **Investments** — Holdings, securities, and investment transactions
- **Liabilities** — Credit card balances and details
- **Balance** — Real-time account balances

**Confidence:** High — Plaid is the industry standard for US bank connectivity. Used by Venmo, Robinhood, Coinbase, Betterment.

## AI/LLM Integration

**Primary:** `openai` npm package (already in project)
- GPT-4o for transaction categorization (fast, cost-effective)
- GPT-4o for financial advice generation (already used in existing advice feature)
- OpenAI Batch API for bulk categorization at 50% cost reduction

**Alternative:** Anthropic Claude API via `@anthropic-ai/sdk`
- Claude 3.5 Sonnet for categorization
- Better at structured output for financial analysis

**Confidence:** High — Project already uses OpenAI. Extend existing integration.

## Background Job Processing

**Primary:** `bullmq` (v5.x) — Modern Redis-backed job queue
- Replaces older `bull` package
- Built-in job scheduling (cron), retries, rate limiting
- Works with existing Redis infrastructure
- Use for: daily transaction sync, batch AI categorization, investment data refresh

**Why BullMQ over alternatives:**
- Already have Redis in the stack
- No additional infrastructure needed
- Node.js native, TypeScript support
- Proven in production financial apps

**Confidence:** High — Natural fit with existing Redis setup.

## Data Encryption

**Primary:** Node.js `crypto` module (built-in)
- AES-256-GCM for encrypting Plaid access tokens at rest
- Project already uses `ENCRYPTION_KEY` env var for 2FA

**Confidence:** High — Extend existing encryption pattern.

## Investment Portfolio Analysis

**No additional libraries needed:**
- Portfolio allocation calculated from Plaid holdings data
- Performance metrics (gains/losses) computed from cost basis vs current value
- Rebalancing suggestions generated by LLM based on user goals and current allocation

## Frontend Components

**Plaid Link:** `react-plaid-link` — Official React component
- Handles the bank connection UI flow
- Returns public_token for backend exchange

**Charts:** `recharts` (already in project)
- Extend for portfolio allocation pie charts, spending trend lines, net worth over time

## Summary

| Component | Library | Status | Confidence |
|-----------|---------|--------|------------|
| Bank connectivity | plaid-node + react-plaid-link | New | High |
| AI categorization | openai (existing) + Batch API | Extend | High |
| Job queue | bullmq | New | High |
| Token encryption | Node.js crypto (existing pattern) | Extend | High |
| Charts | recharts (existing) | Extend | High |
| Database | Prisma (existing) | Extend | High |

**Key principle:** Maximize existing stack. Only add plaid-node, react-plaid-link, and bullmq as new dependencies.
